{% extends "base.html" %}

{% block title %}
Sydney Sabre Classes 
{% endblock %}

{% block content %}
    <div class="container">
        <h1 class="text-gray-200 my-2 text-3xl font-bold">{{ self.title() }}</h1>
        {% for class in classes %}
        <div class="flex mr-auto my-4 w-full md:w-3/4 lg:w-1/2">
            {% if current_user.is_admin: %}
            <div class="flex grow">
                {% if class.completed == True %}
                <p class="grow bg-gray-700 line-through text-white font-bold py-2 px-4 rounded">
                    {{ class.date.strftime('%d %b %Y %a') }} at {{ class.time.strftime('%H:%M')}}: {{ class.class_name }}
                </p>    
                {% else %}
                <a class="grow bg-blue-800 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded"
                    href="{{ url_for('book_class', class_slot_id=class.id) }}">
                    {{ class.date.strftime('%d %b %Y %a') }} at {{ class.time.strftime('%H:%M')}}: {{ class.class_name }}
                </a>
                {% endif %}
            </div>
            <div class="flex">
                <a class="bg-red-400 hover:bg-red-200 text-white font-bold mx-2 px-3 py-2 rounded"
                    href="{{ url_for('delete_class', class_id=class.id ) }}">
                    ✘
                </a>
            </div>
            <div class="flex">
                <a class="bg-green-400 hover:bg-green-200 text-white font-bold mx-2 px-3 py-2 rounded"
                href="{{ url_for('toggle_complete_class', class_id=class.id ) }}">
                    ✓
                </a>
            </div>
            {% else %}
                {% if class.completed == True %}
                    <p class="grow bg-gray-700 line-through text-white font-bold py-2 px-4 rounded">
                        {{ class.date.strftime('%d %b %Y %a') }} at {{ class.time.strftime('%H:%M')}}: {{ class.class_name }}
                    </p>    
                {% else %}
                    <p class="grow bg-blue-800 hover:bg-blue-400 text-white font-bold py-2 px-4 rounded">
                        {{ class.date.strftime('%d %b %Y %a') }} at {{ class.time.strftime('%H:%M')}}: {{ class.class_name }}
                    </p>
            {% endif %}
            {% endif %}
        </div>
        {% endfor %}
{% endblock %}






  